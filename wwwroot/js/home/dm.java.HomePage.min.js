function buildPics(){var n=$("#imgItemID").val();$("#dvmediaPopUp").removeClass("is-hidden");$("body").addClass("modal-open");$.ajax({type:"GET",url:SiteName+"/Api/Packages/PicsForPacks/"+n,contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){const t=n,f=t.length;let i="",r=0;for(let n=0;n<f;n++)t[n].imG_ImageType==="P0"?(r++,i=i+`<li>
                                 <img id="picture-${r}" src="https://pictures.tripmasters.com${t[n].imG_Path_URL.toLowerCase()}" alt="${t[n].imG_500Path_URL}" title="${t[n].imG_Title}" onerror="this.src = 'https://pictures.tripmasters.com/siteassets/d/no-image.jpg'"/>
                               </li>`):(t[n].imG_ImageType==="M0"||t[n].imG_ImageType==="M1")&&(r++,i=`<li>
                        <img id="picture-${r}" src="https://pictures.tripmasters.com${t[n].imG_Path_URL.toLowerCase()}" alt="${t[n].imG_500Path_URL}" title="${t[n].imG_Title}" onerror="this.src = 'https://pictures.tripmasters.com/siteassets/d/no-image.jpg'"/>
                      </li>`+i);$("#dvThuPic").html(i);$("#total").html(`/${f}`);$(".img-modal__list li img").click(function(){changePic(this.id,this.src,this.title,this.alt)});const u=document.querySelector(".img-modal__list li img");changePic(u.id,u.src,u.title,u.alt)},error:function(n){console.error(n.responseText)}})}function changePic(n,t,i,r){let u="https://pictures.tripmasters.com"+r.toLowerCase();r==="none"&&(u=t);$(".img-modal__list li img").removeClass();$("#"+n).addClass("selected");currentPic=n;$("#dvFstPic").html(`<img src="${u}" id="${n.replace("O","B")}" alt="${r}" title=${i}" />`);$("#dvPicNa").html(i);const f=$('.img-modal__list img[id*="picture"]');for(let t=0;t<f.length;t++)if(f[t].id===n){$("#totalCurrent").html(`${t+1}`);break}}function nextPicture(){const n=$('.img-modal__list img[id*="picture"]');for(let t=0;t<n.length;t++)if(n[t].id===currentPic){const i=t+1<n.length?t+1:0;changePic(n[i].id,n[i].src,n[i].title,n[i].alt);break}}function prevPicture(){const n=$('.img-modal__list img[id*="picture"]');for(let t=0;t<n.length;t++)if(n[t].id===currentPic){const i=t-1<0?n.length-1:t-1;changePic(n[i].id,n[i].src,n[i].title,n[i].alt);break}}function moreMediaClose(){$("#dvmediaPopUp").addClass("is-hidden");$("body").removeClass("modal-open")}function toggleClassMoreDetails(n){$("body").toggleClass("modal-pack-info-open");$("#fti-"+n+"-modal").toggleClass("is-hidden")}function otherMoreDetails(n,t){switch(t){case 2:goTo=-1}if(goTo==-1)return!1;$(".secPackInfo").each(function(){var i=$(this).attr("id"),t=i.match(isNumber);t==n?$(this).is(":visible")?($(this).slideUp(),$('p[id="down'+t+'"]').slideUp(),$('p[id="p'+t+'"]').find("span").css({transform:"rotate(45deg)",margin:"5px 10px"})):($(this).slideDown(),$('p[id="down'+t+'"]').slideDown(),$('p[id="p'+t+'"]').find("span").css({transform:"rotate(-135deg)",margin:"7px 10px"})):($(this).slideUp(),$('p[id="down'+t+'"]').slideUp(),$('p[id="p'+t+'"]').find("span").css({transform:"rotate(45deg)",margin:"5px 10px"}))});t===1?relPackCallt4(n):""}function relPackCallt4(n){var t="",r="",u="dvCom"+n,f="dvpkInf"+n,e="dvRel"+n;$.ajax({type:"GET",url:SiteName+"/Api/Packages/getDataRelPacks/"+n,contentType:"application/json; charset=utf-8",dataType:"text",success:function(o){if(msg=o,msg!=""){for(t='<div  style="padding:5px 3px;font-weight: 600;">Related Package<\/div><div style="padding:2px 2px;" align="left">',r='<div style="padding:3px 3px 5px 3px;"><b>For more choices, combine cities found in this itinerary:<\/b><\/div><div style="padding:2px 2px;" align="left">',strPrts=msg.split("@"),i=0;i<=strPrts.length-1;i++)echP=strPrts[i].split("|"),t=t+'<span style="float:left; margin-right:5px; margin-bottom:3px;">',t=t+'<a href="'+SiteName+"/"+echP[0].replace(/\s/g,"_").toLowerCase()+'/vacations" style="margin-right:10px">',t=t+"<span>",t=t+"<u>"+echP[0]+"<\/u>",t=t+"<\/span><\/a><\/span>",echP[2]!=5&&(r=r+'<span style="float:left; margin-right:5px; margin-bottom:3px;"><a style="cursor:pointer;" class="falsecheckdop" id="falsedop'+echP[3]+'" >'+echP[0]+"<\/a>",r=r+'<input type="checkbox" name="dop'+echP[3]+'" id="dop'+echP[3]+'" style="display:none" value="'+echP[3]+"|"+echP[0]+'"/>',r=r+"<\/span>");t=t+'<br style="clear:both"/><\/div>';r=r+'<br style="clear:both"/><\/div>';$("#"+e+"").html(t);$("#"+u+"").html(r);$("#dvWait"+n+"").hide();$("#dvWait"+n+"").html("");$("#"+f+"").slideDown();activeCckBx("frm"+n)}},error:function(t){alert(t.responseText+" = error");$("#dvWait"+n+"").html(t.responseText)}})}function findPackst4(n){var h,t,o,s,r,c,u,f,e;for($("#"+n+" #allID").val()!=""&&$("#"+n+" #allID").val(""),$("#"+n+" #allNA").val()!=""&&$("#"+n+" #allNA").val(""),h=n,t=$("#"+h+"").serialize(),t=t.substring(0,t.indexOf("&__RequestVerificationToken")),c="",e=0,t=t.replace(/\+/g," "),t=t.replace(/\%7C/g,"|"),o=t.split("&"),i=0;i<o.length;i++)s=o[i].split("="),s[1]!=""&&(e=e+1,r=s[1].split("|"),e>1?(u=u+","+r[0],f=f+"_-_"+r[1].replace(/\s/g,"-")):(u=r[0],f=r[1].replace(/\s/g,"-")));if(u==undefined){alert("Please check at least one box. Thanks!");return}$("#allID").val(u);$("#allNA").val(f);window.location.href=SiteName+"/"+f.toLowerCase()+"/find-packages"}function moreSuggestPacks(){isShowSugg===!1?(isShowSugg=!0,$(".suggested__hide-item").slideDown(),$(".suggested__button-text").text("Close More Vacation Packages"),$(".suggested__button-arrow").css({transform:"rotate(-90deg)",right:"15px"})):(isShowSugg=!1,$(".suggested__hide-item").slideUp(),$(".suggested__button-text").text("See More Vacation Packages"),$(".suggested__button-arrow").css({transform:"rotate(90deg)",right:"10px"}))}let isShowSugg=!1;$(document).ready(function(){var i=Cookies.get("utm_campaign"),n,t;Cookies.get("ut2")!=undefined?(n=Cookies.get("ut2").split("&"),t=n[0].split("="),visitID=t[1]):_ut2Functions.push(function(){utValues=_ut2;jQuery.each(utValues,function(n,t){n=="_utvId"&&(visitID=t)})});$("#btnMore").click(function(){$("#toHide").is(":visible")===!1?($(this).html("Close More"),$("#toHide").slideDown()):($(this).html("Show More"),$("#toHide").slideUp())});$("#seeAllImg").click(function(){buildPics()});$("#imgForw").click(nextPicture);$("#imgBack").click(prevPicture);$(".img-modal__close, .img-modal__title").click(moreMediaClose);$("#seeMoreSuggested").click(function(){moreSuggestPacks()})});const swiper1=new Swiper(".mySwiper1",{speed:400,spaceBetween:100,navigation:{nextEl:".swiper-button-next1",prevEl:".swiper-button-prev1"},breakpoints:{320:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:3,spaceBetween:24}}}),swiper2=new Swiper(".mySwiper2",{speed:400,spaceBetween:100,navigation:{nextEl:".swiper-button-next2",prevEl:".swiper-button-prev2"},breakpoints:{320:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:3,spaceBetween:24}}}),swiper3=new Swiper(".mySwiper3",{speed:400,spaceBetween:100,navigation:{nextEl:".swiper-button-next3",prevEl:".swiper-button-prev3"},breakpoints:{320:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:3,spaceBetween:24}}});var goTo=0;