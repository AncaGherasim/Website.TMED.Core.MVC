function setWait(){var n=$("#dvCities").outerHeight(),t=$("#dvCities").outerWidth();$("#dvWait").css({top:$("#dvCities").position().top,left:$("#dvCities").position().left});$("#dvWait #loaderImg").css({top:(n-70)/2+"px"});$("#dvWait").height(n).width(t).show()}$(document).ready(function(){$("#dvGoTop").click(function(){$("html,body").animate({scrollTop:20},100);$("#dvGoTop").hide()});$("span.letter").click(function(){var n,t;$("#dvGoTop").hide();$("span.letter").removeClass("letterSelected");n=$(this).attr("id").split("_")[1];$("#L1_"+n).addClass("letterSelected");$("#L2_"+n).addClass("letterSelected");$(".countryListRow").removeClass("countryListRowSelected");$(".countryListRow[id^='"+n+"']").addClass("countryListRowSelected");t=$(".countryListRow[id^='"+n+"']:first").offset();$("html,body").animate({scrollTop:t.top-25},200,function(){if($(window).scrollTop()>100){var u=$(".countryListRow[id^='"+n+"']:first").width(),i=$(".countryListRow[id^='"+n+"']:first").height(),r=$(".countryListRow[id^='"+n+"']:last").offset(),f=t.top==r.top?t.top+(i-$("#dvGoTop").height())/2:(t.top+r.top+i-$("#dvGoTop").height())/2;$("#dvGoTop").css({top:f+"px",left:t.left+u+10+"px"}).show()}})});$(".col3 span").click(function(){var t=$(this).attr("id"),n;$("#dvcitiesTitle").text("ALL CITIES IN "+$(this).attr("data-name").replace(/_/g," "));$("#dvCitiesContent").html("");$("#dvCities").css("left",($(window).width()-$("#dvCities").width())/2).css("top",$(this).offset().top+26+"px").show();$("#dvBack").css("width","100%").css("height",$(document).height()+200+"px").show();setWait();n={};n.url=SiteName+"/Api/CountryPlaces";n.type="POST";n.contentType="application/json";n.data=JSON.stringify(t);n.dataType="json";n.success=function(n){var t=n,r="",u=t.length<4?t.length:4,h=Math.floor(($("#dvCitiesContent").width()-10)/u),f=Math.ceil(t.length/u),s,e,o;for(i=1;i<=u;i++){for(r=r+'<div class="cityListColumn" style="width:'+h+'px;">',s=i*f-1>=t.length-1?t.length-1:i*f-1,j=(i-1)*f;j<=s;j++)r=r+'<div class="cityListCell"><a href="/'+t[j].CityName.replace(/\s/g,"_").toLowerCase()+'/vacations">'+t[j].CityName+'<\/a><img id="img'+t[j].CityID+'" src="https://pictures.tripmasters.com/siteassets/d/info.gif"><\/div>';r=r+"<\/div>"}for(r=r+'<div style="clear:both;"><\/div>',i=0;i<=t.length-1;i++)r=r+'<div class="cityInfo" id="dvInfo'+t[i].CityID+'"><div class="closeLink" style="padding:0 0 10px 0">close [x]<\/div>'+t[i].CityInfo+"<\/div>";$("#dvCitiesContent").html(r);$(".cityListCell img").click(function(){var t=$(this).attr("id").replace("img",""),n;$("div.cityInfo").hide();n=$(this).position();$("#dvInfo"+t).css({top:n.top+15+"px",left:n.left-100+"px","z-index":"9110"}).show()});$("div[id^='dvInfo'] .closeLink").click(function(){var n=$(this).parent().hide()});$("#dvWait").fadeTo(200,0,function(){$("#dvWait").hide().css("opacity",1)});$("#dvCitiesContent").show();e=$("#dvCities").offset().top+$("#dvCities").height()+10;o=$(window).scrollTop()+$(window).height();e>o&&window.scrollTo(0,$(window).scrollTop()+(e-o))};n.error=function(n){alert(n.responseText);$("#dvCitiesContent").html(n.responseText).show()};$.ajax(n)});$("#dvClose").click(function(){$("#dvCities").hide();$(".cityInfo").hide();$("#dvBack").hide()})});